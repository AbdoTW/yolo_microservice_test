{"ast":null,"code":"var _jsxFileName = \"/home/tawfik/git/yolo_microservice_test/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8003';\nconst WS_URL = 'ws://localhost:8003/ws';\nfunction App() {\n  _s();\n  const [currentFrame, setCurrentFrame] = useState(null);\n  const [stats, setStats] = useState({\n    total_frames: 0,\n    total_humans: 0,\n    current_human_count: 0,\n    processing_status: 'idle',\n    current_video: null\n  });\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [websocketConnected, setWebsocketConnected] = useState(false);\n  const fileInputRef = useRef(null);\n  const websocketRef = useRef(null);\n  const statsIntervalRef = useRef(null);\n\n  // Clear messages after 5 seconds\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError(null);\n        setSuccess(null);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // WebSocket connection\n  const connectWebSocket = useCallback(() => {\n    var _websocketRef$current;\n    if (((_websocketRef$current = websocketRef.current) === null || _websocketRef$current === void 0 ? void 0 : _websocketRef$current.readyState) === WebSocket.OPEN) {\n      return;\n    }\n    try {\n      websocketRef.current = new WebSocket(WS_URL);\n      websocketRef.current.onopen = () => {\n        console.log('WebSocket connected');\n        setWebsocketConnected(true);\n      };\n      websocketRef.current.onmessage = event => {\n        try {\n          const data = JSON.parse(event.data);\n          if (data.type === 'frame_update') {\n            setCurrentFrame({\n              frameData: data.frame_data,\n              timestamp: data.timestamp,\n              humanCount: data.human_count\n            });\n\n            // Update current human count in stats\n            setStats(prev => ({\n              ...prev,\n              current_human_count: data.human_count\n            }));\n          }\n        } catch (err) {\n          console.error('Error parsing WebSocket message:', err);\n        }\n      };\n      websocketRef.current.onclose = () => {\n        console.log('WebSocket disconnected');\n        setWebsocketConnected(false);\n        // Attempt to reconnect after 3 seconds\n        setTimeout(connectWebSocket, 3000);\n      };\n      websocketRef.current.onerror = error => {\n        console.error('WebSocket error:', error);\n        setWebsocketConnected(false);\n      };\n    } catch (err) {\n      console.error('Failed to create WebSocket connection:', err);\n      setWebsocketConnected(false);\n    }\n  }, []);\n\n  // Fetch stats from API\n  const fetchStats = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/stats`);\n      if (response.ok) {\n        const data = await response.json();\n        setStats(data);\n      }\n    } catch (err) {\n      console.error('Error fetching stats:', err);\n    }\n  }, []);\n\n  // Start stats polling\n  const startStatsPolling = useCallback(() => {\n    if (statsIntervalRef.current) {\n      clearInterval(statsIntervalRef.current);\n    }\n    fetchStats(); // Fetch immediately\n    statsIntervalRef.current = setInterval(fetchStats, 2000); // Poll every 2 seconds\n  }, [fetchStats]);\n\n  // Stop stats polling\n  const stopStatsPolling = useCallback(() => {\n    if (statsIntervalRef.current) {\n      clearInterval(statsIntervalRef.current);\n      statsIntervalRef.current = null;\n    }\n  }, []);\n\n  // Initialize connections\n  useEffect(() => {\n    connectWebSocket();\n    startStatsPolling();\n    return () => {\n      if (websocketRef.current) {\n        websocketRef.current.close();\n      }\n      stopStatsPolling();\n    };\n  }, [connectWebSocket, startStatsPolling, stopStatsPolling]);\n\n  // Handle file upload\n  const handleFileUpload = async file => {\n    if (!file) return;\n\n    // Validate file type\n    const supportedFormats = ['.mp4', '.avi', '.mov', '.mkv', '.webm'];\n    const fileExtension = '.' + file.name.split('.').pop().toLowerCase();\n    if (!supportedFormats.includes(fileExtension)) {\n      setError(`Unsupported format. Supported: ${supportedFormats.join(', ')}`);\n      return;\n    }\n    setIsUploading(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await fetch(`${API_BASE_URL}/api/upload`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setUploadedFile({\n          filename: data.filename,\n          originalName: file.name\n        });\n        setSuccess(`Video uploaded successfully: ${file.name}`);\n\n        // Automatically start processing\n        await startProcessing(data.filename);\n      } else {\n        setError(data.detail || 'Upload failed');\n      }\n    } catch (err) {\n      setError('Failed to upload video: ' + err.message);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  // Start video processing\n  const startProcessing = async filename => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/start-stream`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          filename\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setSuccess('Video processing started');\n        setCurrentFrame(null); // Clear previous frame\n      } else {\n        setError(data.detail || 'Failed to start processing');\n      }\n    } catch (err) {\n      setError('Failed to start processing: ' + err.message);\n    }\n  };\n\n  // Handle drag and drop\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.currentTarget.classList.add('dragover');\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('dragover');\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('dragover');\n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  };\n\n  // Handle file input change\n  const handleFileInputChange = e => {\n    const files = e.target.files;\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  };\n\n  // Download processed video\n  const handleDownload = () => {\n    if (uploadedFile !== null && uploadedFile !== void 0 && uploadedFile.filename) {\n      const downloadUrl = `${API_BASE_URL}/api/download/${uploadedFile.filename}`;\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `processed_${uploadedFile.originalName}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  // Determine if download should be enabled\n  const isDownloadEnabled = stats.processing_status === 'completed' || stats.processing_status === 'idle';\n  const isProcessing = stats.processing_status === 'processing';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDFA5 Video Detection Streaming\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Upload videos and watch real-time human detection processing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"\\u274C \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [\"\\u2705 \", success]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCE4 Upload Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-area\",\n          onDragOver: handleDragOver,\n          onDragLeave: handleDragLeave,\n          onDrop: handleDrop,\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-icon\",\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-text\",\n            children: isUploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), \"Uploading...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Drag & drop your video here or click to browse\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Supported: MP4, AVI, MOV, MKV, WEBM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            className: \"file-input\",\n            accept: \".mp4,.avi,.mov,.mkv,.webm\",\n            onChange: handleFileInputChange,\n            disabled: isUploading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-button\",\n            disabled: isUploading,\n            children: isUploading ? 'Uploading...' : 'Select Video'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83C\\uDFAC Live Processing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-container\",\n          children: currentFrame ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `data:image/jpeg;base64,${currentFrame.frameData}`,\n            alt: \"Processed frame\",\n            className: \"video-frame\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-placeholder\",\n            children: isProcessing ? '🔄 Processing video...' : '⏸️ No video processing'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.current_human_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Current Humans\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.total_humans\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Detected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.total_frames\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Frames Processed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: websocketConnected ? '🟢' : '🔴'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"WebSocket\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-indicator\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `status-dot ${stats.processing_status}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-text\",\n          children: [\"Status: \", stats.processing_status.charAt(0).toUpperCase() + stats.processing_status.slice(1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), stats.current_video && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"current-video\",\n        children: [\"\\uD83D\\uDCF9 Current video: \", stats.current_video]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"download-section\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"download-button\",\n          onClick: handleDownload,\n          disabled: !isDownloadEnabled || !uploadedFile,\n          children: isDownloadEnabled && uploadedFile ? '⬇️ Download Processed Video' : '⏳ Processing...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PSXv+k8dVcfGKcOJhJlCRM60cG0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","WS_URL","App","_s","currentFrame","setCurrentFrame","stats","setStats","total_frames","total_humans","current_human_count","processing_status","current_video","isUploading","setIsUploading","uploadedFile","setUploadedFile","error","setError","success","setSuccess","websocketConnected","setWebsocketConnected","fileInputRef","websocketRef","statsIntervalRef","timer","setTimeout","clearTimeout","connectWebSocket","_websocketRef$current","current","readyState","WebSocket","OPEN","onopen","console","log","onmessage","event","data","JSON","parse","type","frameData","frame_data","timestamp","humanCount","human_count","prev","err","onclose","onerror","fetchStats","response","fetch","ok","json","startStatsPolling","clearInterval","setInterval","stopStatsPolling","close","handleFileUpload","file","supportedFormats","fileExtension","name","split","pop","toLowerCase","includes","join","formData","FormData","append","method","body","filename","originalName","startProcessing","detail","message","headers","stringify","handleDragOver","e","preventDefault","currentTarget","classList","add","handleDragLeave","remove","handleDrop","files","dataTransfer","length","handleFileInputChange","target","handleDownload","downloadUrl","link","document","createElement","href","download","appendChild","click","removeChild","isDownloadEnabled","isProcessing","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onDragOver","onDragLeave","onDrop","onClick","_fileInputRef$current","ref","accept","onChange","disabled","src","alt","charAt","toUpperCase","slice","_c","$RefreshReg$"],"sources":["/home/tawfik/git/yolo_microservice_test/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './App.css';\n\nconst API_BASE_URL = 'http://localhost:8003';\nconst WS_URL = 'ws://localhost:8003/ws';\n\nfunction App() {\n  const [currentFrame, setCurrentFrame] = useState(null);\n  const [stats, setStats] = useState({\n    total_frames: 0,\n    total_humans: 0,\n    current_human_count: 0,\n    processing_status: 'idle',\n    current_video: null\n  });\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [websocketConnected, setWebsocketConnected] = useState(false);\n  \n  const fileInputRef = useRef(null);\n  const websocketRef = useRef(null);\n  const statsIntervalRef = useRef(null);\n\n  // Clear messages after 5 seconds\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError(null);\n        setSuccess(null);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // WebSocket connection\n  const connectWebSocket = useCallback(() => {\n    if (websocketRef.current?.readyState === WebSocket.OPEN) {\n      return;\n    }\n\n    try {\n      websocketRef.current = new WebSocket(WS_URL);\n      \n      websocketRef.current.onopen = () => {\n        console.log('WebSocket connected');\n        setWebsocketConnected(true);\n      };\n\n      websocketRef.current.onmessage = (event) => {\n        try {\n          const data = JSON.parse(event.data);\n          \n          if (data.type === 'frame_update') {\n            setCurrentFrame({\n              frameData: data.frame_data,\n              timestamp: data.timestamp,\n              humanCount: data.human_count\n            });\n            \n            // Update current human count in stats\n            setStats(prev => ({\n              ...prev,\n              current_human_count: data.human_count\n            }));\n          }\n        } catch (err) {\n          console.error('Error parsing WebSocket message:', err);\n        }\n      };\n\n      websocketRef.current.onclose = () => {\n        console.log('WebSocket disconnected');\n        setWebsocketConnected(false);\n        // Attempt to reconnect after 3 seconds\n        setTimeout(connectWebSocket, 3000);\n      };\n\n      websocketRef.current.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        setWebsocketConnected(false);\n      };\n    } catch (err) {\n      console.error('Failed to create WebSocket connection:', err);\n      setWebsocketConnected(false);\n    }\n  }, []);\n\n  // Fetch stats from API\n  const fetchStats = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/stats`);\n      if (response.ok) {\n        const data = await response.json();\n        setStats(data);\n      }\n    } catch (err) {\n      console.error('Error fetching stats:', err);\n    }\n  }, []);\n\n  // Start stats polling\n  const startStatsPolling = useCallback(() => {\n    if (statsIntervalRef.current) {\n      clearInterval(statsIntervalRef.current);\n    }\n    \n    fetchStats(); // Fetch immediately\n    statsIntervalRef.current = setInterval(fetchStats, 2000); // Poll every 2 seconds\n  }, [fetchStats]);\n\n  // Stop stats polling\n  const stopStatsPolling = useCallback(() => {\n    if (statsIntervalRef.current) {\n      clearInterval(statsIntervalRef.current);\n      statsIntervalRef.current = null;\n    }\n  }, []);\n\n  // Initialize connections\n  useEffect(() => {\n    connectWebSocket();\n    startStatsPolling();\n\n    return () => {\n      if (websocketRef.current) {\n        websocketRef.current.close();\n      }\n      stopStatsPolling();\n    };\n  }, [connectWebSocket, startStatsPolling, stopStatsPolling]);\n\n  // Handle file upload\n  const handleFileUpload = async (file) => {\n    if (!file) return;\n\n    // Validate file type\n    const supportedFormats = ['.mp4', '.avi', '.mov', '.mkv', '.webm'];\n    const fileExtension = '.' + file.name.split('.').pop().toLowerCase();\n    \n    if (!supportedFormats.includes(fileExtension)) {\n      setError(`Unsupported format. Supported: ${supportedFormats.join(', ')}`);\n      return;\n    }\n\n    setIsUploading(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await fetch(`${API_BASE_URL}/api/upload`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setUploadedFile({\n          filename: data.filename,\n          originalName: file.name\n        });\n        setSuccess(`Video uploaded successfully: ${file.name}`);\n        \n        // Automatically start processing\n        await startProcessing(data.filename);\n      } else {\n        setError(data.detail || 'Upload failed');\n      }\n    } catch (err) {\n      setError('Failed to upload video: ' + err.message);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  // Start video processing\n  const startProcessing = async (filename) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/start-stream`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ filename }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setSuccess('Video processing started');\n        setCurrentFrame(null); // Clear previous frame\n      } else {\n        setError(data.detail || 'Failed to start processing');\n      }\n    } catch (err) {\n      setError('Failed to start processing: ' + err.message);\n    }\n  };\n\n  // Handle drag and drop\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.add('dragover');\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('dragover');\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('dragover');\n    \n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  };\n\n  // Handle file input change\n  const handleFileInputChange = (e) => {\n    const files = e.target.files;\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  };\n\n  // Download processed video\n  const handleDownload = () => {\n    if (uploadedFile?.filename) {\n      const downloadUrl = `${API_BASE_URL}/api/download/${uploadedFile.filename}`;\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `processed_${uploadedFile.originalName}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  // Determine if download should be enabled\n  const isDownloadEnabled = stats.processing_status === 'completed' || stats.processing_status === 'idle';\n  const isProcessing = stats.processing_status === 'processing';\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        <h1>🎥 Video Detection Streaming</h1>\n        <p>Upload videos and watch real-time human detection processing</p>\n      </header>\n\n      {error && (\n        <div className=\"error-message\">\n          ❌ {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"success-message\">\n          ✅ {success}\n        </div>\n      )}\n\n      <div className=\"main-container\">\n        <div className=\"upload-section\">\n          <h2>📤 Upload Video</h2>\n          <div\n            className=\"upload-area\"\n            onDragOver={handleDragOver}\n            onDragLeave={handleDragLeave}\n            onDrop={handleDrop}\n            onClick={() => fileInputRef.current?.click()}\n          >\n            <div className=\"upload-icon\">📁</div>\n            <div className=\"upload-text\">\n              {isUploading ? (\n                <>\n                  <div className=\"loading\"></div>\n                  Uploading...\n                </>\n              ) : (\n                <>\n                  Drag & drop your video here or click to browse\n                  <br />\n                  <small>Supported: MP4, AVI, MOV, MKV, WEBM</small>\n                </>\n              )}\n            </div>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              className=\"file-input\"\n              accept=\".mp4,.avi,.mov,.mkv,.webm\"\n              onChange={handleFileInputChange}\n              disabled={isUploading}\n            />\n            <button className=\"upload-button\" disabled={isUploading}>\n              {isUploading ? 'Uploading...' : 'Select Video'}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"video-section\">\n          <h2>🎬 Live Processing</h2>\n          <div className=\"video-container\">\n            {currentFrame ? (\n              <img\n                src={`data:image/jpeg;base64,${currentFrame.frameData}`}\n                alt=\"Processed frame\"\n                className=\"video-frame\"\n              />\n            ) : (\n              <div className=\"video-placeholder\">\n                {isProcessing ? '🔄 Processing video...' : '⏸️ No video processing'}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"stats-container\">\n        <div className=\"stats-grid\">\n          <div className=\"stat-item\">\n            <div className=\"stat-value\">{stats.current_human_count}</div>\n            <div className=\"stat-label\">Current Humans</div>\n          </div>\n          <div className=\"stat-item\">\n            <div className=\"stat-value\">{stats.total_humans}</div>\n            <div className=\"stat-label\">Total Detected</div>\n          </div>\n          <div className=\"stat-item\">\n            <div className=\"stat-value\">{stats.total_frames}</div>\n            <div className=\"stat-label\">Frames Processed</div>\n          </div>\n          <div className=\"stat-item\">\n            <div className=\"stat-value\">\n              {websocketConnected ? '🟢' : '🔴'}\n            </div>\n            <div className=\"stat-label\">WebSocket</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"status-bar\">\n        <div className=\"status-indicator\">\n          <div className={`status-dot ${stats.processing_status}`}></div>\n          <span className=\"status-text\">\n            Status: {stats.processing_status.charAt(0).toUpperCase() + stats.processing_status.slice(1)}\n          </span>\n        </div>\n        {stats.current_video && (\n          <div className=\"current-video\">\n            📹 Current video: {stats.current_video}\n          </div>\n        )}\n        \n        <div className=\"download-section\">\n          <button\n            className=\"download-button\"\n            onClick={handleDownload}\n            disabled={!isDownloadEnabled || !uploadedFile}\n          >\n            {isDownloadEnabled && uploadedFile ? '⬇️ Download Processed Video' : '⏳ Processing...'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}